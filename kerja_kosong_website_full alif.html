<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portal Kerja Kosong Kilang — Penang</title>
  <meta name="description" content="Portal lengkap kerja kilang (Penang) — carian, penapis, peta, borang permohonan, muat turun CSV & pautan WhatsApp" />
  <style>
    /* ---------------- Root & Theme ---------------- */
    :root{
      --bg:#F4F7FB;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#003F7D; /* biru pekat */
      --accent-2:#005A96;
      --glass: rgba(255,255,255,0.7);
      --radius:14px;
      --shadow: 0 8px 28px rgba(16,24,40,0.08);
      --max-width:1200px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }

    /* -------------- Reset & Layout -------------- */
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--bg);color:#0f172a}
    .wrap{max-width:var(--max-width);margin:28px auto;padding:20px}

    header{display:flex;align-items:center;gap:18px}
    .brand{display:flex;align-items:center;gap:14px}
    .brand-logo{width:64px;height:64px;border-radius:12px;background:linear-gradient(180deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:20px;box-shadow:var(--shadow)}
    .brand h1{margin:0;font-size:20px}
    .brand p{margin:0;color:var(--muted);font-size:13px}

    /* ---------- Controls ---------- */
    .controls{display:flex;gap:12px;align-items:center;margin-top:18px;margin-bottom:18px}
    .search{flex:1;display:flex;align-items:center;gap:8px}
    .search input{width:100%;padding:12px 14px;border-radius:12px;border:1px solid #e6e9ef;background:var(--card);outline:none}
    .select{padding:10px 12px;border-radius:12px;border:1px solid #e6e9ef;background:var(--card)}
    .btn{padding:10px 14px;border-radius:12px;border:none;background:var(--accent);color:white;cursor:pointer}
    .btn.secondary{background:transparent;border:1px solid #e6e9ef;color:var(--accent)}

    /* ---------- Grid ---------- */
    .grid{display:grid;grid-template-columns:1fr 360px;gap:24px}

    /* ---------- Job list ---------- */
    .jobs{display:grid;gap:18px}
    .job{display:flex;gap:14px;background:var(--card);padding:16px;border-radius:12px;box-shadow:var(--shadow);align-items:flex-start}
    .job-logo{width:64px;height:64px;border-radius:10px;background:#eef3fb;display:flex;align-items:center;justify-content:center;color:var(--accent);font-weight:700}
    .job-body{flex:1}
    .job h3{margin:0 0 6px 0}
    .meta{color:var(--muted);font-size:13px;margin-bottom:8px}
    .desc{color:#263238;font-size:14px}
    .job-tags{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
    .tag{background:#f1f5f9;padding:6px 8px;border-radius:999px;font-size:13px;color:var(--muted)}

    .job-actions{display:flex;flex-direction:column;gap:8px;margin-left:12px}
    .apply{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;padding:8px 12px;border-radius:10px;border:none;cursor:pointer}
    .wa{background:#25D366;color:white;padding:8px 12px;border-radius:10px;border:none;cursor:pointer}

    /* ---------- Sidebar ---------- */
    aside .card{background:var(--card);padding:16px;border-radius:12px;box-shadow:var(--shadow)}
    .map{height:220px;border-radius:10px;overflow:hidden}
    .side-list{display:flex;flex-direction:column;gap:12px;margin-top:12px}

    /* ---------- Utilities ---------- */
    .center{text-align:center}
    .muted{color:var(--muted)}

    /* ---------- Modal ---------- */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(3,7,18,0.6);z-index:60}
    .modal.open{display:flex}
    .modal-card{width:100%;max-width:720px;background:var(--card);padding:18px;border-radius:12px}
    .form-row{display:flex;gap:8px}
    input,select,textarea{padding:10px;border-radius:8px;border:1px solid #e6e9ef;width:100%}

    /* ---------- Footer ---------- */
    footer{margin-top:18px;text-align:center;color:var(--muted)}

    /* ---------- Responsive ---------- */
    @media (max-width:980px){.grid{grid-template-columns:1fr}.controls{flex-direction:column}.job{flex-direction:column;align-items:stretch}.job-actions{flex-direction:row;justify-content:flex-end;margin-left:0}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="brand-logo">PK</div>
        <div>
          <h1>Portal Kerja Kilang — Penang</h1>
          <p>Senarai kerja kilang terkini & cara mohon</p>
        </div>
      </div>
      
    </header>

    <div class="controls">
      <div class="search">
        <input id="q" placeholder="Cari jawatan, syarikat atau lokasi..." oninput="filterJobs()" />
        <select id="typeFilter" class="select" onchange="filterJobs()">
          <option value="">Semua</option>
          <option value="Operator">Operator</option>
        </select>
      </div>
      <select id="locFilter" class="select" onchange="filterJobs()">
        <option value="">Semua Kilang — Penang</option>
        <option value="Perai">Perai</option>
        <option value="Bukit Mertajam">Bukit Mertajam</option>
        <option value="Simpang Ampat">Simpang Ampat</option>
        <option value="Seberang Perai">Seberang Perai</option>
      </select>
      <select id="shiftFilter" class="select" onchange="filterJobs()">
        <option value="">Semua Shift</option>
        <option value="Full">Full</option>
      </select>
    </div>

    <div class="grid">
      <main>
        <section class="jobs" id="jobsList">
          <!-- job cards injected here -->
        </section>
        <footer>
          <small class="muted">Dibina untuk memudahkan pencari kerja & majikan di Pulau Pinang. Hubungi kami untuk pakej iklan premium.</small>
        </footer>
      </main>

      <aside>
        <div class="card">
          <h4>Lokasi: Penang</h4>
          <p class="muted">Peta kawasan kilang & butiran alamat.</p>
          <div class="map">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1986.160255018744!2d100.43424214936202!3d5.36799089665241!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x304ac72a55d0b8ab%3A0xa9be177e7de45782!2sAgensi%20Pekerjaan%20Rahsiabaru%20Sdn.%20Bhd.%20(Manpower%20Supply%2F%20Outsources%20Worker%2F%20Contract%20Worker)!5e0!3m2!1sms!2smy!4v1764590805571!5m2!1sms!2smy" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>

          <div class="side-list">
            <div>
              <strong>Hubungi</strong>
              <p class="muted">WhatsApp: <a href="https://wa.me/60146232389" target="_blank">+6014-623 2389</a></p>
            </div>
            <div>
              <strong>Tips Temuduga</strong>
              <ul class="muted">
                <li>Datang awal & berpakaian kemas</li>
                <li>Bawa salinan IC & resume</li>
                <li>Tunjukkan kemahiran praktikal</li>
                <li>1 Gambar Ukuran Passport</li>
                <li>Bawa No Akaun Bank</li>
                <li>Bawa 1 Batang Pen</li>
              </ul>
            </div>
            <div>
              <strong>Details</strong>
              <ul class="muted">
                <li>Nama</li>
                <li>Umur</li>
                <li>Alamat</li>
                <li>No IC</li>
                <li>Bangsa</li>
                <li>Status</li>
                <li>Kelulusan</li>
                <li>Lesen</li>
                <li>Kenderaan</li>
                <li>Perlu hostel</li>
                <li>Hantar Detail ke Whatsapp Kalau Berminat</li>

</ul>
            </div>
          </div>
        </div>
      </aside>
    </div>
  </div>



  <script>
    // ---------- Sample dataset (client-side demo). Replace with real backend API ----------
    const JOBS = [
      {id:1,company:'TORTO FOOD',role:'Operator',location:'Bukit Mertajam',salary:'RM1,700 - RM2,900',shift:'Full',desc:'Mengendalikan mesin produksi & pemeriksaan kualiti',contact:'+60146232389'},
      {id:2,company:'DAVISCOM',role:'Operator',location:'Simpang Ampat',salary:'RM1,700 - RM2,900',shift:'Full',desc:'Operator elektronik',contact:'+60146232389'},
      {id:3,company:'KOBELCO',role:'Operator',location:'Seberang Perai',salary:'RM1,700 - RM2,900',shift:'Full',desc:'Kerja pembungkusan & pembuatan produk Welding Electrode',contact:'+60146232389'},
      {id:4,company:'IOI',role:'Operator',location:'Perai',salary:'RM1,700 - RM2,900',shift:'Full',desc:'Pemeriksaan & servis oil dan gas',contact:'+60146232389'}];


    const jobsList = document.getElementById('jobsList');

    function render(list){
      jobsList.innerHTML = '';
      if(!list.length){ jobsList.innerHTML = '<div style="padding:24px;background:var(--card);border-radius:12px;text-align:center">Tiada jawatan ditemui</div>'; return }
      list.forEach(j=>{
        const el = document.createElement('article'); el.className='job';
        el.innerHTML = `
          <div class="job-logo">${j.company.split(' ').map(w=>w[0]).slice(0,2).join('')}</div>
          <div class="job-body">
            <h3>${j.role}</h3>
            <div class="meta">${j.company} • ${j.location} • <span class="muted">${j.shift} | ${j.salary}</span></div>
            <div class="desc">${j.desc}</div>
            <div class="job-tags">
              <div class="tag">Gaji: ${j.salary}</div>
              <div class="tag">Shift: ${j.shift}</div>
              <div class="tag">Lokasi: ${j.location}</div>
            </div>
          </div>
          <div class="job-actions">
           <button class="wa" onclick="waApply('${j.contact}','${j.role}')">WhatsApp</button>
          </div>
        `;
        jobsList.appendChild(el);
      })
    }

    render(JOBS);

    // ---------- Filters ----------
    function filterJobs(){
      const q = document.getElementById('q').value.trim().toLowerCase();
      const type = document.getElementById('typeFilter').value;
      const loc = document.getElementById('locFilter').value;
      const shift = document.getElementById('shiftFilter').value;

      const res = JOBS.filter(j=>{
        const matchQ = [j.role,j.company,j.location,j.desc].join(' ').toLowerCase().includes(q);
        const matchType = type? j.role.includes(type) : true;
        const matchLoc = loc? j.location===loc : true;
        const matchShift = shift? j.shift===shift : true;
        return matchQ && matchType && matchLoc && matchShift;
      })
      render(res);
    }

    // ---------- Modal logic ----------
    const modal = document.getElementById('modal');
    function openPost(){ document.getElementById('modalTitle').textContent='Siarkan Jawatan'; modal.classList.add('open') }
    function openApply(id){
      const job = JOBS.find(j=>j.id===id);
      if(!job) return;
      document.getElementById('modalTitle').textContent = `Butiran: ${job.role}`;
      modal.classList.add('open');
      // show content inside modal? For demo, prefill form
      const f = document.getElementById('postForm');
      f.company.value = job.company; f.role.value = job.role; f.location.value = job.location; f.salary.value = job.salary; f.desc.value = job.desc;
    }
    function closeModal(){ modal.classList.remove('open') }
    function handlePost(e){ e.preventDefault(); const f = e.target; const data = {id: Math.max(...JOBS.map(j=>j.id))+1,company:f.company.value,role:f.role.value,location:f.location.value,salary:f.salary.value,shift:'Full',desc:f.desc.value,contact:'+60000000000'}; JOBS.push(data); render(JOBS); closeModal(); alert('Iklan disiarkan (demo). Untuk produksi, sambungkan ke backend.'); }

    // ---------- WhatsApp apply ----------
    function waApply(number,role){ const phone = number.replace(/[^0-9+]/g,''); const text = encodeURIComponent(`Saya berminat dengan jawatan: ${role}.`); const url = `https://wa.me/${phone.replace(/^\+/,'')}?text=${text}`; window.open(url,'_blank') }

    // ---------- CSV download ----------
    function downloadCSV(){
      const headers = ['id','company','role','location','salary','shift','contact','desc'];
      const rows = JOBS.map(j=>[j.id,j.company,j.role,j.location,j.salary,j.shift,j.contact,('"'+(j.desc||'')+'"')]);
      const csv = [headers.join(','), ...rows.map(r=>r.join(','))].join('\n');
      const blob = new Blob([csv],{type:'text/csv'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download='kerja_kilang_penang.csv'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
    }

    // expose for debugging
    window.JOBS = JOBS; window.filterJobs = filterJobs; window.openPost = openPost; window.closeModal = closeModal; window.downloadCSV = downloadCSV;
  
  </script>
</body>
</html>
